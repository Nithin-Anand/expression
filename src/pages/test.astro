---
import { getImagesByFolder } from "../utils/cloudinary";
import BaseLayout from "../layouts/BaseLayout.astro";
import { CldImage } from 'astro-cloudinary';

// Await the Promise to get the images
const images = await getImagesByFolder("Sample Images");
// Get the first image from the array
const firstImage = images[0];

console.log('First image:', firstImage); // For debugging
---
<BaseLayout page_title="Testing Cloud Image Render">
    {firstImage ? (
        <CldImage
            src={firstImage.public_id}
            width={firstImage.width}
            height={firstImage.height}
            alt="Sample image"
        />
    ) : (
        <p>No images found in the folder</p>
    )}
</BaseLayout>